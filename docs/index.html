<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="icon" href="data:,">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Skilling</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Patrick+Hand&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <canvas id="game-canvas" aria-label="Skilling 3D"></canvas>
  <div id="webgl-fallback" style="display:none;position:fixed;inset:0;background:#1a1a2e;color:#e0e0e0;font-family:sans-serif;z-index:9999;padding:20vh 10vw;text-align:center">
    <h1 style="color:#e8c44a;margin-bottom:16px">WebGL Not Supported</h1>
    <p style="max-width:500px;margin:0 auto;line-height:1.6">Your browser or GPU can't run WebGL, which is required for this game. Try:<br><br>
    1. Update your graphics drivers<br>
    2. Try Chrome or Edge<br>
    3. Enable hardware acceleration in browser settings</p>
  </div>
  <div id="debug-overlay" aria-hidden="true"></div>
  <div id="ui-root">
    <div id="ui-coins-chip" aria-live="polite" aria-label="Gold coins">
      <span class="ui-coin-icon" aria-hidden="true">&#x1FA99;</span>
      <strong id="ui-coins-value">0</strong>
    </div>
    <button type="button" id="ui-mobile-toggle" aria-expanded="false" aria-controls="ui-dock ui-panel">
      Menu
    </button>
    <button type="button" id="ui-settings-btn" aria-label="Settings" title="Settings">&#x2699;</button>
    <nav id="ui-dock" aria-label="Main tabs">
      <button type="button" class="ui-tab-btn is-active" data-tab="inventory">
        <span class="ui-tab-icon" aria-hidden="true">&#x1F392;</span>
        <span class="ui-tab-label">Inventory</span>
      </button>
      <button type="button" class="ui-tab-btn" data-tab="skills">
        <span class="ui-tab-icon" aria-hidden="true">&#x1F4CA;</span>
        <span class="ui-tab-label">Skills</span>
      </button>
      <button type="button" class="ui-tab-btn" data-tab="emotes">
        <span class="ui-tab-icon" aria-hidden="true">&#x1F60A;</span>
        <span class="ui-tab-label">Emotes</span>
      </button>
      <button type="button" class="ui-tab-btn" data-tab="combat">
        <span class="ui-tab-icon" aria-hidden="true">&#x2694;</span>
        <span class="ui-tab-label">Combat</span>
      </button>
      <button type="button" class="ui-tab-btn" data-tab="prayer">
        <span class="ui-tab-icon" aria-hidden="true">&#x271D;</span>
        <span class="ui-tab-label">Prayer</span>
      </button>
    </nav>
    <aside id="ui-panel" aria-live="polite">
      <h2 id="ui-panel-title">Inventory</h2>
      <section class="ui-panel-section" data-tab-panel="inventory">
        <div id="ui-inventory-grid" aria-label="Inventory slots"></div>
        <p id="ui-status-line" class="ui-status" data-tone="info"></p>
      </section>
      <section class="ui-panel-section" data-tab-panel="bank" hidden>
        <div class="ui-bank-head">
          <span>Bag / Bank</span>
        </div>
        <div class="ui-bank-list">
          <div class="ui-bank-row">
            <div class="ui-bank-item"><span>&#x1F41F;</span><strong>Fish</strong></div>
            <div class="ui-bank-counts"><b data-bank-bag="fish">0</b><small>/</small><b data-bank-vault="fish">0</b></div>
            <div class="ui-bank-actions">
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="fish" data-bank-qty="1">D1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="fish" data-bank-qty="5">D5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="fish" data-bank-qty="all">DAll</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="fish" data-bank-qty="1">W1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="fish" data-bank-qty="5">W5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="fish" data-bank-qty="all">WAll</button>
            </div>
          </div>
          <div class="ui-bank-row">
            <div class="ui-bank-item"><span>&#x1FAA8;</span><strong>Ore</strong></div>
            <div class="ui-bank-counts"><b data-bank-bag="ore">0</b><small>/</small><b data-bank-vault="ore">0</b></div>
            <div class="ui-bank-actions">
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="ore" data-bank-qty="1">D1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="ore" data-bank-qty="5">D5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="ore" data-bank-qty="all">DAll</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="ore" data-bank-qty="1">W1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="ore" data-bank-qty="5">W5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="ore" data-bank-qty="all">WAll</button>
            </div>
          </div>
          <div class="ui-bank-row">
            <div class="ui-bank-item"><span>&#x1FAB5;</span><strong>Logs</strong></div>
            <div class="ui-bank-counts"><b data-bank-bag="logs">0</b><small>/</small><b data-bank-vault="logs">0</b></div>
            <div class="ui-bank-actions">
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="logs" data-bank-qty="1">D1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="logs" data-bank-qty="5">D5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="deposit" data-bank-item="logs" data-bank-qty="all">DAll</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="logs" data-bank-qty="1">W1</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="logs" data-bank-qty="5">W5</button>
              <button type="button" class="ui-bank-btn" data-bank-action="withdraw" data-bank-item="logs" data-bank-qty="all">WAll</button>
            </div>
          </div>
        </div>
      </section>
      <section class="ui-panel-section" data-tab-panel="blacksmith" hidden>
        <div class="ui-smith-list">
          <div class="ui-smith-row">
            <div class="ui-smith-meta">
              <strong>Axe</strong>
              <span>Upgrade level <b data-smith-level="axe">0</b></span>
            </div>
            <button type="button" class="ui-smith-buy-btn" data-smith-upgrade="axe">
              Upgrade (<span data-smith-cost="axe">0</span>)
            </button>
          </div>
          <div class="ui-smith-row">
            <div class="ui-smith-meta">
              <strong>Pickaxe</strong>
              <span>Upgrade level <b data-smith-level="pickaxe">0</b></span>
            </div>
            <button type="button" class="ui-smith-buy-btn" data-smith-upgrade="pickaxe">
              Upgrade (<span data-smith-cost="pickaxe">0</span>)
            </button>
          </div>
          <div class="ui-smith-row">
            <div class="ui-smith-meta">
              <strong>Fishing Pole</strong>
              <span>Upgrade level <b data-smith-level="fishing">0</b></span>
            </div>
            <button type="button" class="ui-smith-buy-btn" data-smith-upgrade="fishing">
              Upgrade (<span data-smith-cost="fishing">0</span>)
            </button>
          </div>
        </div>
      </section>
      <section class="ui-panel-section" data-tab-panel="store" hidden>
        <div class="ui-store-actions">
          <button type="button" id="ui-store-sell-btn" class="ui-store-sell-btn">Sell Bag</button>
        </div>
        <div class="ui-store-dyes">
          <button type="button" class="ui-dye-btn" data-store-color="lime"><span class="ui-dye-swatch" style="--sw:#58df78"></span><span>Lime</span><small data-store-cost="lime">0</small></button>
          <button type="button" class="ui-dye-btn" data-store-color="mint"><span class="ui-dye-swatch" style="--sw:#79f0b2"></span><span>Mint</span><small data-store-cost="mint">0</small></button>
          <button type="button" class="ui-dye-btn" data-store-color="aqua"><span class="ui-dye-swatch" style="--sw:#62e4d9"></span><span>Aqua</span><small data-store-cost="aqua">0</small></button>
          <button type="button" class="ui-dye-btn" data-store-color="sunset"><span class="ui-dye-swatch" style="--sw:#f5b35f"></span><span>Sunset</span><small data-store-cost="sunset">0</small></button>
          <button type="button" class="ui-dye-btn" data-store-color="violet"><span class="ui-dye-swatch" style="--sw:#af89f6"></span><span>Violet</span><small data-store-cost="violet">0</small></button>
          <button type="button" class="ui-dye-btn" data-store-color="rose"><span class="ui-dye-swatch" style="--sw:#f57fb3"></span><span>Rose</span><small data-store-cost="rose">0</small></button>
        </div>
      </section>
      <section class="ui-panel-section" data-tab-panel="skills" hidden>
        <p>Gathering</p>
        <div class="ui-skill-row" data-skill="fishing">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1F41F;</span>
            <strong class="ui-skill-level" id="ui-skill-fishing">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Fishing</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill" id="ui-skill-bar-fishing"></div></div>
          </div>
        </div>
        <div class="ui-skill-row" data-skill="mining">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1FAA8;</span>
            <strong class="ui-skill-level" id="ui-skill-mining">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Mining</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill" id="ui-skill-bar-mining"></div></div>
          </div>
        </div>
        <div class="ui-skill-row" data-skill="woodcutting">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1FAB5;</span>
            <strong class="ui-skill-level" id="ui-skill-woodcutting">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Woodcutting</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill" id="ui-skill-bar-woodcutting"></div></div>
          </div>
        </div>
        <p>Combat</p>
        <div class="ui-skill-row" data-skill="melee">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1F5E1;</span>
            <strong class="ui-skill-level" id="ui-skill-melee">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Melee</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill ui-skill-bar-combat" id="ui-skill-bar-melee"></div></div>
          </div>
        </div>
        <div class="ui-skill-row" data-skill="bow">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1F3F9;</span>
            <strong class="ui-skill-level" id="ui-skill-bow">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Ranged</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill ui-skill-bar-combat" id="ui-skill-bar-bow"></div></div>
          </div>
        </div>
        <div class="ui-skill-row" data-skill="mage">
          <div class="ui-skill-icon-wrap">
            <span class="ui-skill-icon">&#x1F525;</span>
            <strong class="ui-skill-level" id="ui-skill-mage">1</strong>
          </div>
          <div class="ui-skill-info">
            <div class="ui-skill-head"><span class="ui-skill-name">Magic</span></div>
            <div class="ui-skill-bar"><div class="ui-skill-bar-fill ui-skill-bar-combat" id="ui-skill-bar-mage"></div></div>
          </div>
        </div>
      </section>
      <section class="ui-panel-section" data-tab-panel="emotes" hidden>
        <div id="ui-emote-list">
          <button type="button" class="ui-emote-btn" data-emote="&#x1F496;" title="Sparkle Heart">&#x1F496;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x2728;" title="Sparkles">&#x2728;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F338;" title="Cherry Blossom">&#x1F338;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F97A;" title="Pleading Face">&#x1F97A;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F60A;" title="Smile">&#x1F60A;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F4AB;" title="Dizzy">&#x1F4AB;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F380;" title="Ribbon">&#x1F380;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F361;" title="Dango">&#x1F361;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F624;" title="Angry Face">&#x1F624;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F4A4;" title="Sleep">&#x1F4A4;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F44B;" title="Wave">&#x1F44B;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x2B50;" title="Star">&#x2B50;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F970;" title="Smiling Face with Hearts">&#x1F970;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F60D;" title="Heart Eyes">&#x1F60D;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F40C;" title="Snail">&#x1F40C;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F480;" title="Skull">&#x1F480;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F921;" title="Clown">&#x1F921;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F483;" title="Dancing">&#x1F483;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F5FF;" title="Moai">&#x1F5FF;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F62D;" title="Sobbing">&#x1F62D;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F923;" title="ROFL">&#x1F923;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F608;" title="Devil">&#x1F608;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F440;" title="Eyes">&#x1F440;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F525;" title="Fire">&#x1F525;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F4AF;" title="100">&#x1F4AF;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F911;" title="Money Mouth">&#x1F911;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F92E;" title="Vomiting">&#x1F92E;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1FAE0;" title="Melting">&#x1FAE0;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F92F;" title="Mind Blown">&#x1F92F;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F624;" title="Huffing">&#x1F624;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F644;" title="Eye Roll">&#x1F644;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F485;" title="Nail Polish">&#x1F485;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1FAE1;" title="Salute">&#x1FAE1;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F976;" title="Freezing">&#x1F976;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F47B;" title="Ghost">&#x1F47B;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F44D;&#x1F3FF;" title="Thumbs Up">&#x1F44D;&#x1F3FF;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F44E;&#x1F3FF;" title="Thumbs Down">&#x1F44E;&#x1F3FF;</button>
          <button type="button" class="ui-emote-btn" data-emote="&#x1F633;" title="Flushed">&#x1F633;</button>
        </div>
        <div class="ui-friends-bar">
          <span id="ui-friends-online">Offline</span>
          <span id="ui-friends-count">Players online: 0</span>
        </div>
      </section>
      <section class="ui-panel-section" data-tab-panel="combat" hidden>
        <div id="ui-combat-styles">
          <button type="button" class="ui-combat-btn is-active" data-combat-style="melee" title="Melee">&#x1F5E1;</button>
          <button type="button" class="ui-combat-btn" data-combat-style="bow" title="Bow">&#x1F3F9;</button>
          <button type="button" class="ui-combat-btn" data-combat-style="mage" title="Mage">&#x1F525;</button>
        </div>
        <p class="ui-combat-hint">Left-click a Training Dummy to attack</p>
      </section>
      <section class="ui-panel-section" data-tab-panel="prayer" hidden>
        <p class="ui-prayer-heading">Offensive</p>
        <div class="ui-prayer-grid">
          <button type="button" class="ui-prayer-btn" data-prayer="clarity" title="Clarity of Thought: +5% melee accuracy">&#x2694;&#xFE0F;<span>Clarity</span></button>
          <button type="button" class="ui-prayer-btn" data-prayer="sharp_eye" title="Sharp Eye: +5% ranged accuracy">&#x1F3F9;<span>Sharp Eye</span></button>
          <button type="button" class="ui-prayer-btn" data-prayer="mystic_will" title="Mystic Will: +5% magic accuracy">&#x1F52E;<span>Mystic Will</span></button>
          <button type="button" class="ui-prayer-btn" data-prayer="burst_str" title="Burst of Strength: +5% melee damage">&#x1F4AA;<span>Burst Str</span></button>
          <button type="button" class="ui-prayer-btn" data-prayer="superhuman" title="Superhuman Strength: +10% melee damage">&#x26A1;<span>Superhuman</span></button>
          <button type="button" class="ui-prayer-btn" data-prayer="eagle_eye" title="Eagle Eye: +10% ranged accuracy">&#x1F9E0;<span>Eagle Eye</span></button>
        </div>
        <p class="ui-prayer-heading">Overhead Protection</p>
        <div class="ui-prayer-grid ui-prayer-overhead">
          <button type="button" class="ui-prayer-btn ui-prayer-overhead-btn" data-prayer="protect_melee" title="Protect from Melee">&#x1F6E1;&#xFE0F;<span>Melee</span></button>
          <button type="button" class="ui-prayer-btn ui-prayer-overhead-btn" data-prayer="protect_range" title="Protect from Range">&#x1F3F9;<span>Range</span></button>
          <button type="button" class="ui-prayer-btn ui-prayer-overhead-btn" data-prayer="protect_mage" title="Protect from Magic">&#x1F525;<span>Magic</span></button>
        </div>
      </section>
    </aside>
  </div>
  <div id="ui-settings-overlay" class="ui-settings-overlay" hidden>
    <div class="ui-settings-overlay-head">
      <h3>Settings</h3>
      <button type="button" id="ui-settings-close" aria-label="Close settings">&times;</button>
    </div>
    <div class="ui-settings-list">
      <div class="ui-settings-row">
        <span>Name</span>
        <input type="text" id="setting-name" maxlength="16" placeholder="Slime1234" spellcheck="false" autocomplete="off">
      </div>
      <div class="ui-settings-row">
        <span>Server</span>
        <span id="setting-connection" class="ui-conn-status">--</span>
      </div>
      <hr class="ui-settings-divider">
      <label class="ui-settings-row">
        <span>Show FPS</span>
        <input type="checkbox" id="setting-fps">
      </label>
      <label class="ui-settings-row">
        <span>Show Memory</span>
        <input type="checkbox" id="setting-memory">
      </label>
      <label class="ui-settings-row">
        <span>Show Draw Calls</span>
        <input type="checkbox" id="setting-drawcalls">
      </label>
      <label class="ui-settings-row">
        <span>Show Player Position</span>
        <input type="checkbox" id="setting-position">
      </label>
      <label class="ui-settings-row">
        <span>Render Scale</span>
        <select id="setting-dpr">
          <option value="0.5">0.5x (Fast)</option>
          <option value="0.75">0.75x</option>
          <option value="1" selected>1x (Default)</option>
          <option value="1.5">1.5x</option>
          <option value="2">2x (Sharp)</option>
        </select>
      </label>
      <label class="ui-settings-row">
        <span>FPS Cap</span>
        <select id="setting-fps-cap">
          <option value="30">30 (Battery saver)</option>
          <option value="60" selected>60 (Default)</option>
          <option value="0">Uncapped</option>
        </select>
      </label>
      <label class="ui-settings-row">
        <span>Bloom</span>
        <input type="checkbox" id="setting-bloom">
      </label>
      <hr class="ui-settings-divider">
      <div class="ui-settings-row ui-hotkey-header"><span>Tab Hotkeys</span></div>
      <div class="ui-hotkey-row" data-hotkey-tab="inventory">
        <span>Inventory</span>
        <button type="button" class="ui-hotkey-set-btn">Set</button>
        <kbd class="ui-hotkey-display">—</kbd>
      </div>
      <div class="ui-hotkey-row" data-hotkey-tab="combat">
        <span>Combat</span>
        <button type="button" class="ui-hotkey-set-btn">Set</button>
        <kbd class="ui-hotkey-display">—</kbd>
      </div>
      <div class="ui-hotkey-row" data-hotkey-tab="prayer">
        <span>Prayer</span>
        <button type="button" class="ui-hotkey-set-btn">Set</button>
        <kbd class="ui-hotkey-display">—</kbd>
      </div>
      <div class="ui-hotkey-row" data-hotkey-tab="emotes">
        <span>Emotes</span>
        <button type="button" class="ui-hotkey-set-btn">Set</button>
        <kbd class="ui-hotkey-display">—</kbd>
      </div>
      <div class="ui-hotkey-row" data-hotkey-tab="skills">
        <span>Skills</span>
        <button type="button" class="ui-hotkey-set-btn">Set</button>
        <kbd class="ui-hotkey-display">—</kbd>
      </div>
    </div>
  </div>
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.164.1/examples/jsm/"
      }
    }
  </script>
  <script type="module" src="./main.js"></script>
</body>
</html>
